<Window x:Class="MSCC.Views.AiSearchResultWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="AI Analysis Result" 
        Height="600" Width="800"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        MinHeight="400"
        MinWidth="500"
        Icon="/app-icon.ico">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <StackPanel Grid.Row="0" Margin="0,0,0,16">
            <TextBlock x:Name="TitleText" Text="AI Analysis Result" 
                       FontSize="18" FontWeight="SemiBold" 
                       Foreground="#2C3E50"/>
            <TextBlock x:Name="ModelText" 
                       Text="Model: gpt-3.5-turbo"
                       Foreground="Gray" 
                       Margin="0,4,0,0"/>
        </StackPanel>
        
        <Border Grid.Row="1" Background="#F8F9FA" CornerRadius="4">
            <wv2:WebView2 x:Name="ResponseWebView"
                          DefaultBackgroundColor="Transparent"/>
        </Border>
        
        <Border Grid.Row="2" Background="#E8F4FD" CornerRadius="4" Padding="12" Margin="0,12,0,0">
            <StackPanel Orientation="Horizontal">
                <TextBlock x:Name="TokenInfoLabel" Text="Tokens:" FontWeight="Medium" Margin="0,0,8,0"/>
                <TextBlock x:Name="PromptTokensText" Text="Prompt: 0" Margin="0,0,16,0"/>
                <TextBlock x:Name="CompletionTokensText" Text="Completion: 0" Margin="0,0,16,0"/>
                <TextBlock x:Name="TotalTokensText" Text="Total: 0" FontWeight="Medium"/>
            </StackPanel>
        </Border>
        
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button x:Name="CopyBtn" Content="Copy Response" 
                    Padding="20,10" 
                    Margin="0,0,8,0"
                    Click="CopyButton_Click"/>
            <Button x:Name="CloseBtn" Content="Close" 
                    Padding="20,10"
                    Background="#3498DB"
                    Foreground="White"
                    Click="CloseButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
